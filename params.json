{
  "name": "Cron-last-sunday",
  "tagline": "Run a cron task the first, nth or last weekday of the month",
  "body": "cron-last-sunday\r\n================\r\n\r\nCron Last Sunday is the solution for those picky admins that always wanted to run a task the third Thursday of the Month, or maybe the first Monday, whatever.\r\n\r\nRead a short [intro](http://xr09.github.io/cron-scheduling-for-the-fancy.html) at my blog.\r\n\r\n\r\nInstall\r\n=======\r\n\r\nCopy run-if-today to ~/bin for private use:\r\n\r\n    cp -av run-if-today ~/bin/\r\n\r\nOr /usr/local/bin/ for use by all system users:\r\n\r\n    cp -av run-if-today /usr/local/bin/\r\n\r\n\r\nUsage\r\n=====\r\n\r\nrun-if-today accepts two parameters, nth-day and day-of-week:\r\n\r\n\r\nrun-if-today 1 Sat # Checks for the first Saturday of the month\r\n\r\nrun-if-today 3 Mon # 3rd Monday\r\n\r\n\r\nKeep in mind the day of week must have 3 letters starting with a capital letter. Check \"date +%a\" for today.\r\n\r\nSun, Mon, Tue, Wed, Thu, Fri, Sat\r\n\r\n\r\n\r\nUsing this is rather simple, the script \"run-if-today\" evaluates its parameters and returns true or false 'a la bash' i.e. 0 or 1, then with the && operator we use it to execute tasks with cron, like this:\r\n\r\n    30 6 * * 6 root run-if-today 1 Sat && /root/myfirstsaturdaybackup.sh\r\n\r\n\r\nIf run-if-today returns 1 (false in Bash) then the && (and) will stop the operation and nothing happens.\r\n\r\nYou could use a * instead of 6 for the day of week, the script checks if it's Saturday and within the date range of the desired week, but in order to execute this code as little as possible it's recommended to fix a weekday so it runs at most 4 or 5 times a month.\r\n\r\nOr you could possibly completely omit the second parameter and inherit it from cron since we are already specifying parameter. For example:\r\n\r\n\r\n    30 6 * * 6 root run-if-today 1 && /root/myfirstsaturdaybackup.sh\r\n\r\nis equivalent to previous cronjob.\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}